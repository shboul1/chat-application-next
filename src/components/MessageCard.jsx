import { FaTrashAlt } from "react-icons/fa";
import { AiOutlineLoading3Quarters } from "react-icons/ai";
import styles from "@/styles/Room.module.css";

export default function MessageCard({ message, handleDelete, loading }) {
  return (
    <div className={styles.messageCard}>
      <div className={styles.messageCircle}>
        <svg
          width="65"
          height="65"
          viewBox="0 0 65 65"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <mask
            id="mask0_4720_5872"
            style={{ maskType: "luminance" }}
            maskUnits="userSpaceOnUse"
            x="1"
            y="1"
            width="62"
            height="62"
          >
            <path
              d="M31.8863 62.6576C48.7561 62.6576 62.4317 48.9819 62.4317 32.1121C62.4317 15.2423 48.7561 1.56665 31.8863 1.56665C15.0165 1.56665 1.34082 15.2423 1.34082 32.1121C1.34082 48.9819 15.0165 62.6576 31.8863 62.6576Z"
              fill="white"
            />
          </mask>
          <g mask="url(#mask0_4720_5872)">
            <path
              d="M10.2034 57.1595C9.73794 57.1886 9.27249 57.208 8.74885 57.237C8.74885 56.917 8.72946 56.6455 8.74885 56.374C8.84582 55.2007 8.85552 54.008 9.07855 52.854C9.62158 50.0904 11.4446 48.4031 14.024 47.5207C15.5173 47.0067 17.0689 46.6577 18.5816 46.2019C20.1622 45.7171 21.6943 45.1158 23.0616 44.1752C23.5755 43.8164 24.0604 43.3801 24.487 42.9146C24.9719 42.4007 25.1949 41.751 25.1658 41.0334C25.1658 40.9364 25.1658 40.8492 25.1658 40.7522C25.3016 39.3849 25.0882 38.1922 24.1089 37.0771C23.207 36.0492 22.8289 34.6819 22.4701 33.3534C22.4313 33.208 22.3343 33.014 22.2179 32.9558C20.6858 32.2383 20.0943 30.9292 19.9586 29.3583C19.881 28.534 19.9586 27.7098 20.2979 26.934C20.3561 26.808 20.3367 26.6431 20.3173 26.4977C20.201 25.6346 19.9876 24.7813 19.9779 23.9183C19.9586 22.5413 19.9198 21.1352 20.1622 19.7874C20.5404 17.6346 21.7525 15.9764 23.7113 14.9001C23.8276 14.8322 23.9537 14.7449 24.0313 14.6383C25.3307 12.9316 27.1343 12.1558 29.1901 11.8552C31.9246 11.4577 34.5913 11.6613 37.2095 12.6601C38.6737 13.2128 40.2446 13.3195 41.8155 13.174C42.9016 13.0771 43.047 13.5134 43.0955 14.2989C43.144 15.1231 42.9889 15.8989 42.601 16.6455C42.5331 16.7813 42.5234 17.0043 42.5913 17.1401C43.3282 18.5461 43.687 20.0492 43.7549 21.6201C43.8325 23.2977 43.8131 24.9752 43.367 26.6237C43.3282 26.7692 43.3961 26.9437 43.4446 27.0989C43.9682 28.6019 43.9004 30.0661 43.1828 31.4819C42.8434 32.151 42.3004 32.6261 41.6313 32.9752C41.4664 33.0625 41.2919 33.2564 41.2434 33.431C40.7586 35.2346 40.0119 36.9122 38.7707 38.3474C38.6737 38.4637 38.6349 38.648 38.6252 38.8128C38.6058 39.4237 38.664 40.0346 38.6058 40.6358C38.4798 41.9837 39.1198 42.9243 40.1186 43.7098C41.5828 44.854 43.2798 45.5522 45.0252 46.1243C46.4992 46.5995 48.0119 46.9777 49.4858 47.4431C50.1355 47.6467 50.7561 47.9474 51.3573 48.2771C53.4131 49.4116 54.5282 51.2152 54.8289 53.5037C54.984 54.6867 54.9743 55.8892 55.0422 57.0819C55.0422 57.1401 55.0422 57.208 55.0422 57.2661C54.984 57.7025 54.664 57.9934 54.2567 57.974C53.8398 57.9546 53.5779 57.6734 53.5586 57.1983C53.5198 56.1607 53.5198 55.1134 53.4325 54.0758C53.1804 51.2055 51.4834 49.5377 48.8264 48.7328C47.3137 48.2771 45.7816 47.8698 44.2592 47.4237C43.9198 47.3267 43.5804 47.2007 43.2507 47.0552C42.9792 46.9292 42.824 46.997 42.6204 47.2104C40.3513 49.6443 37.5973 51.2152 34.3198 51.7777C30.0822 52.4952 26.281 51.4286 22.9064 48.8007C22.2664 48.3061 21.7234 47.6952 21.1222 47.1619C21.0155 47.0649 20.7925 46.9971 20.6664 47.0358C18.9792 47.5207 17.3016 48.0152 15.624 48.5389C14.984 48.7328 14.3537 48.9461 13.7428 49.2177C11.5513 50.2067 10.5137 51.9813 10.3489 54.328C10.281 55.2395 10.2616 56.1607 10.2131 57.1595H10.2034ZM26.9889 21.2516C26.5913 21.9983 26.2325 22.6964 25.8349 23.3849C24.9719 24.8686 23.9537 26.2746 22.3925 27.031C21.4422 27.4964 21.2967 28.1171 21.3549 28.9801C21.3743 29.2904 21.3937 29.6007 21.4519 29.9013C21.6264 30.7158 21.9852 31.4431 22.8386 31.6758C23.4786 31.8504 23.7307 32.2189 23.8664 32.8298C24.1864 34.294 24.7295 35.6904 25.6507 36.8928C25.8931 37.2031 26.2519 37.4164 26.504 37.7171C27.4446 38.8031 28.6373 39.511 29.9852 39.9183C31.0907 40.2577 32.264 40.151 33.4082 39.9958C34.4943 39.8504 35.2992 39.1425 36.1525 38.5801C36.8216 38.134 37.4325 37.5425 37.9464 36.9122C38.9743 35.6613 39.5076 34.168 39.8082 32.597C39.8858 32.1704 40.0604 31.831 40.5355 31.7437C41.2143 31.6274 41.6507 31.2007 41.9125 30.6092C42.3101 29.7074 42.3392 28.7667 42.087 27.8261C42.0386 27.6516 41.9028 27.4189 41.7573 27.3607C40.9137 27.0698 40.4289 26.4201 39.9925 25.7025C39.5464 24.9752 39.1489 24.2189 38.6737 23.5013C37.9561 22.4249 36.9186 21.9498 35.6386 22.0467C35.144 22.0855 34.6495 22.1825 34.1646 22.2504C31.6725 22.6092 29.2289 22.6674 26.9695 21.2322L26.9889 21.2516ZM41.4858 14.6771C41.3792 14.6771 41.2822 14.6577 41.1949 14.6577C39.3331 14.648 37.5392 14.3861 35.7646 13.7461C33.5828 12.9607 31.304 13.0189 29.0349 13.3971C27.3767 13.6783 25.9707 14.3958 25.0107 15.8407C24.9234 15.9764 24.7682 16.0831 24.6131 16.151C22.7707 17.0334 21.7622 18.5461 21.5295 20.5146C21.3743 21.7849 21.4616 23.094 21.4713 24.3837C21.4713 24.791 21.5682 25.1983 21.6264 25.654C21.801 25.5474 21.9076 25.4892 22.0143 25.4213C23.1779 24.6358 24.0022 23.5498 24.6616 22.3377C25.1367 21.4649 25.5246 20.5534 25.9513 19.6516C26.2325 19.0601 26.7367 18.9437 27.2216 19.3801C28.1525 20.2237 29.2676 20.6504 30.4992 20.8152C31.9731 21.0092 33.4179 20.7667 34.8628 20.5631C37.2967 20.214 39.0325 21.0092 40.3028 23.1134C40.6907 23.7631 41.0301 24.4516 41.4179 25.111C41.5537 25.3534 41.7476 25.5571 41.9804 25.848C42.0385 25.6443 42.0676 25.5764 42.0676 25.5086C42.1258 24.1801 42.2713 22.8419 42.2228 21.5134C42.1646 20.1074 41.8349 18.7401 41.0495 17.5377C40.7392 17.0722 40.7004 16.6843 41.0398 16.2189C41.3598 15.7728 41.5537 15.2686 41.5052 14.6867L41.4858 14.6771ZM37.1707 39.7437C33.5925 42.2067 30.1404 42.2164 26.5913 39.6952C27.1731 43.254 24.9816 44.9025 22.3731 46.2698C27.687 52.1364 36.744 51.6419 41.3792 46.2504C38.7901 44.8928 36.6082 43.254 37.1707 39.7437Z"
              fill="#514D60"
            />
          </g>
          <path
            d="M31.8867 63.1424C49.0243 63.1424 62.9171 49.2497 62.9171 32.1121C62.9171 14.9745 49.0243 1.08179 31.8867 1.08179C14.7492 1.08179 0.856445 14.9745 0.856445 32.1121C0.856445 49.2497 14.7492 63.1424 31.8867 63.1424Z"
            stroke="url(#paint0_linear_4720_5872)"
            stroke-width="1.2"
            stroke-miterlimit="10"
          />
          <defs>
            <linearGradient
              id="paint0_linear_4720_5872"
              x1="9.53523"
              y1="54.4636"
              x2="54.2383"
              y2="9.76057"
              gradientUnits="userSpaceOnUse"
            >
              <stop stop-color="#474556" />
              <stop offset="0.15" stop-color="#514455" />
              <stop offset="0.41" stop-color="#6D4455" />
              <stop offset="0.75" stop-color="#994453" />
              <stop offset="1" stop-color="#BF4453" />
            </linearGradient>
          </defs>
        </svg>
      </div>
      <div className={styles.messageContent}>
        <p>{message?.message}</p>
      </div>
      <div className={styles.dots}>
        {loading ? (
          <AiOutlineLoading3Quarters color="#e93426" size={15} />
        ) : (
          <FaTrashAlt
            color="#e93426"
            size={15}
            onClick={() => handleDelete(message?.id)}
          />
        )}
      </div>
    </div>
  );
}
